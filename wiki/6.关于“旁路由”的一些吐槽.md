## 0. 关于“旁路由”  

**本文与 OpenClash 无关**

鉴于旁路由小白的问题太多，本项目维护者作为一个有着近十五年“折腾” OpenWrt 经验的玩家，表达一下关于**家庭环境**下非必要却刻意使用“旁路由”组网方式的一些看法。  

***

企业环境不在本文范围之内，企业环境下的旁路网关和家庭环境下的旁路由/旁路网关完全就是两码事，配置方法也完全不同，不要刻意混淆。  

某些特殊情况不得不使用旁路由，也不在本文范围之内。能识别出这种情况的用户，本身已经具备足够的组网技能，无需阅读和了解本文所表达的技术观点。  

“某些特殊情况”仅指某些特定环境和技术条件的限制，绝不包括“稳定性”、“不影响其他人”等由于错误技术观点和错误使用方式产生的无中生有的情况。

本文仅针对“完全没必要却刻意部署旁路由”这一常见的**错误**组网方式，反驳简中社群中广泛存在的针对 OpenWrt 和软路由的某些错误技术观点，以及视频网站上诸多存在误导性的教学视频。

***

> 这里完全是表达我的**个人观点**，如果和你的**个人观点**冲突了，不要过来尝试改变我的**观点**，你只需要关闭网页就行了，不进行任何形式的讨论。   

> **小白就算给旁路由再搞个旁旁路由和旁旁旁路由那也是你的自由，别来污染本项目的 issue ，在 issue 里写长篇大论迎接你的只有 Delete issue**  

***
## 1. “旁路由”是一种错误的组网方式

首先明确一个观点：  
```
家庭环境下的“旁路由”是一种错误的组网方式，不应该部署所谓的“旁路由”或者“旁路网关”，强烈建议使用 OpenWrt 作为唯一主路由。  
```
如果一个主路由可以满足使用需求的情况下，再去部署旁路由纯粹就是**脱裤子放屁**。  

网上所谓教程提供的家用环境下的旁路由设置方式，其中99%都是相同的网关互指设置，是一种严重错误的、令人厌恶的组网方式。印象中十几年前折腾 OpenWrt 的时候，家用网络中根本就没有旁路由这一说，这几年随着软路由的普及怎么突然就满地都是旁路由了。

不得不佩服论坛上的那些半瓶子晃荡的技术白痴的发明能力。    

***
## 2. 多拨和流控真的是刚需？

宽带都白菜价了，你真需要某快系统做多拨和叠加？  

在家用宽带已经白菜价的今天，流控和多拨从来就不是家庭环境和类家庭环境下的刚需，99%的使用需求都可以用一个 OpenWrt 主路由来解决，刻意增加旁路由纯粹就是给自己找麻烦。  

少下两次馆子你也就不用浪费时间窝在家里摆弄那破多拨叠加了。  

如果你是需要上行多拨叠加的用户，比如 PCDN 玩家，那请关闭此页面，继续折腾即可。毕竟运营商随时有可能给你限速断网，这你都能接受，折腾漏油器算什么。    


***
## 3. 网上教程真的没问题？  

这里仅针对网上的那些基础旁路由教程，ROS 之类的高端玩法不在此列。

**网上的旁路由教程，99%都是教人部署设置“网关互指”，然后开启 IP 动态伪装或者添加相应的防火墙自定义规则。**  

他们只会告诉你必须这样设置，没人会告诉你为什么。你会发现不这样设置的话，不开代理上不了所有网站，开了代理就上不了国内的网站，你也会发现如果你的旁路由性能差一点，测速会直接拦腰砍。  

**这种错误的设置是人为的制造二次 NAT，是嫌网速太快了么？还是嫌游戏不掉线不习惯了？简直就是灾难级设置。**  

因为你主路由有硬件 NAT，关了硬件 NAT 你会发现，不需要 IP 动态伪装也能上网，速度也变快了，但这样你还要额外设置一个硬路由作为主路由有何意义？  

当然了也有一些教程贴不教这么设置，因为他们用 ikuai 做主路由，而 ikuai 做主路由没有硬件 NAT，也就不需要 IP 动态伪装，这又回到上一个问题了，你真需要多拨和流控？不需要的话，加一个 ikuai 有何意义？  

一堆乱起八糟的设置把网络弄得还没有用百元电子垃圾路由器来的畅快，图的啥？  

有些人甚至用光猫做主路由，然后再搞个 OpenWrt 旁路由，真的无力吐槽了。  

要么你就上 ROS，要么干脆就别瞎折腾，网上那些旁路由小白教程最后出来的大概率都是负优化。当然了，如果你能玩明白 ROS，那你根本不会来到这个页面。  

不要把网上那些复杂的“教程”当作圣经。  

毕竟很多 UP 主时要靠这话题来制作视频恰饭的，这个赛道很拥挤，内容越“高大上”流量才越多，而“高大上”的最简单体现就是“复杂”，所以他们才会热衷于教你复杂化你的家用网络。  

***

## 4. 软路由就是旁路由？   
  
软路由≠旁路由，OpenWrt 也从来不是一个为旁路由而生的系统。  

我很反感网上那些一提软路由上来就是旁路由的教程，就好像玩软路由就必须部署旁路由一样。  

听起来很高端是吧？完全就是坑小白，为了搞旁路由而创造需求，刻意将网络环境复杂化。  

尤其某些看起来高大上复杂到像蜘蛛网一样的“家用网络”拓扑图，恨不得让流量转发八百次绕地球一圈再出 WAN 口，仿佛作者的性癖就是流量转发，当笑话看就好，千万别模仿。  

***

## 5. 软路由做主路由性能不够？  

有些教程的观点是软路由性能不够，要用硬路由做主路由这样才能提升整体的网络性能，这完全就是放屁。  

以 ARM 软路由为例，NanoPi R2S/RK3328 这种入门级设备都已经足够稳定跑满国内千兆，再好一点的 NanoPi R4S/RK3568 完全性能过剩。  

要突破千兆，299元双 2.5G 网口的电犀牛 R66S 已经够便宜了吧？跑满 2.5G 毫无压力。  

x86 设备就更不要说了，性能完全过剩，J4125 这种机器 All in One 了都能跑满，更不用说 N100，随便哪个都能够让你用到许多年后 2.5G 接口被淘汰了再换设备。    

哪儿来的性能焦虑？  

跑不满不够大概率是你用的垃圾固件有问题，而不是设备性能不够。  

至于小包转发性能，软路由的小包转发性能确实不如硬路由，但这跟旁路由一点关系都没有。 

***
## 6. 软路由做主路由不够稳定？  

纯属**放屁**。  

此类言论多出于常年使用各种垃圾固件的小白。  

OpenWrt 早已今非昔比，作为家用路由系统使用，它的稳定性从来就不是问题。  

项目维护者甚至在生产环境部署了多个型号的设备，均使用 OpenWrt SNAPSHOT，也就是最有可能发生不稳定状况的版本，但是常年稳定运行仍然毫无压力。  

OpenWrt 也早已应用到一些工业领域的设备上，维护者甚至见过某些已经商用的汽车 OBD 检测/编程适配器使用了 OpenWrt 作为其无线网络通信系统，这玩意儿的使用场景对稳定性的要求可比你家的漏油器高太多了。  

人家都能稳定，为啥你家的破漏油器上就不稳定，是 OpenWrt 不稳定还是你有问题呢。  

一群小白整天用各种垃圾第三方固件，出了问题再到处宣扬“OpenWrt 不稳定"、“XXX型号设备不稳定、“OpenWrt 不稳定只能当旁路由”各种智障言论，再去写“教程”坑更多的小白。  

**这就是当下的简中社群 OpenWrt 相关话题的现状，抖音/小红书/什么值得买 是三大重灾区。**  

***
## 7. “折腾不影响家庭网络”是旁路由的优点？  

**旁路由所谓的“折腾不影响家庭网络”的“优点”本身就是扯淡。**  

**如果你认可旁路由网络架构的这种“优点”，那么你应该反思的是为什么你“折腾”起来，你的 OpenWrt 就会出现各种问题就断网就会挂掉，你“折腾”的方式方法和方向是否有问题？**  

有没有想过，硬件明明没问题，为什么你的 OpenWrt 三天两头死机，有没有想过是你用的第三方编译的固件有问题？  

> 之前还有白痴跑到 issue 里写长篇大论跟我“科普”旁路由的“优点”

> 总结下来就是一句话：我给亲朋好友都家部署了旁路由，这样我远程帮他们折腾就不怕翻车了。  

> 你是真 TM 缺德啊，自己水平菜，还去祸害亲朋好友家的网络

网上那些固件，尤其恩山论坛里每天屠版一样刷屏的各种固件发布贴，除了几个真正的大佬的作品，其他的有几个能保证没问题的。    

傻瓜化的云编译让小白们都能编译固件，但也造就了一大批小白出品的垃圾固件。

今天换这个固件明天换那个固件，看着高大全固件就上，没用的插件开一大堆，系统日志里 error 都刷屏了也不管，你不死机谁死机。  

当然了，如果你认为体验各种第三方垃圾固件是一种乐趣，对于这种浪费生命的行为我无话可说。  

没有特殊需求，放着官方发布版不用，放着 Image Builder 不用，放着 attendedsysupgrade 和 owut 不用，非要去用别人编译的固件反复折腾刷机，你图的啥？  


***

## 8. “折腾”是一种学习一种进步？

折腾确实是一个学习的过程，但是大部分小白使用垃圾固件和”学习“垃圾教程，反复的在刷机>折腾>翻车>刷机>折腾>翻车之间循环，这是一个完全错误的方向，是对生命的一种浪费。 

**制造这类垃圾固件和垃圾教程，传播错误的技术观点的人，无异于谋财害命。**  

***
## 9. “如无必要，勿增实体”  
```
如无必要，勿增实体。———— 奥卡姆剃刀原则
```
切记，**如无必要，勿增实体**，大到设备，小到插件，原则皆是如此。  

尽量简化你的家用网络架构中的软硬件，能靠一个主路由满足需求，就不要拐弯抹角的去加旁路由。  

没有多拨和流控的刚需，就不要去装 ikuai。

没有在 Web 页面上查看下游设备解析请求的刚需，就不要去装 AdGuard Home。  

一个 OpenClash 靠规则和设置就能完成 DNS 分流，就不要再去装 MosDNS 进行套娃二次分流。  

官方发布版能满足需求，就不要去用所谓的“高大全”固件。 

Image Builder 能满足需求，就不要去瞎折腾云编译。   

想折腾 Docker，花三四百钱买个入门的 x86 工控机装个 PVE 再放心折腾，再不行就买个入门的 ARM 设备装个 Debian/Armbian 再折腾 Docker，不要在 OpenWrt 里面折腾 Docker，纯属没事找事。  

全新的买不起你就买二手，二手都买不起的话，你应该去学习，去工作，去搞钱，而不是浪费生命去折腾那破漏油器。  

真没钱又想浪费生命，去白嫖一个 Oracle 的免费 VPS 再折腾 Docker 好不好？放过你的漏油器。

***

## 10. 家庭网络应当是什么样的

如果你是刚入坑的纯小白，你追求的是稳定高效功能强大的家庭网络。  

搭建家用网路你就直接一个 OpenWrt 主路由 + Mesh 或 AP+AC（AP 数量少的话，连 AC 都不需要），固件别用乱七八糟的固件，老老实实的用官方发布版 + attendedsysupgrade 升级，保证你一年也不会死机一次（塞弱电箱还不改进散热的除外），整个网络顺畅到让你无感，让你失去浪费生命的兴趣。  

对于家宽环境而言，将网络架构中的软硬件人为的复杂化，**除了降低可靠性以外，没有任何正面作用**。  

如果你是刚入坑的纯小白，你追求的是瞎折腾浪费生命，追求的反复在折腾>刷机>折腾>刷机之间原地踏步，那你就关闭本页面，继续你的折腾之路吧。  

***

## 11. 我动主路由会死怎么办  

主路由真的不能动，那么你在各个设备上安装 Clash 客户端，也比加一个旁路由强。  

又想折腾怎么办，把你的旁路由设备系统改成 Debian 或者 Armbian。   

设备不支持 Debian/Armbian 怎么办，参考上第9节的最后两句话。   

***
 
本项目 issue 和 TG 群组内出现的问题，90%都是和旁路由有关，更加印证了我的观点。  

项目维护者部署的所有设备都是主路由以做到网路环境尽量从简，所以任何关于旁路由下的设置出现的问题，不进行解答，直接关闭 issue。  
